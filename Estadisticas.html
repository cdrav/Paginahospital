<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estadísticas - Hospital Departamental San Antonio</title>
  
  <!-- Bootstrap 5.3.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital@1&family=Poppins:wght@300;700;900&display=swap" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/accesibilidad.css">
  <style>
    .stat-card {
      border: none;
      border-radius: 15px;
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    .stat-card:hover {
      transform: translateY(-5px);
    }
    .stat-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #069681;
    }
    .stat-label {
      color: #6c757d;
      font-size: 1.1rem;
    }
    .last-update {
      background-color: #f8f9fa;
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <!-- Barra superior con GOV.CO y traductor -->
  <div style="background-color: #3366cc; height: 36px;" class="d-flex justify-content-between align-items-center px-4">
    <div class="d-flex align-items-center">
      <a href="https://www.gov.co/" target="_blank" class="d-flex align-items-center text-white text-decoration-none">
        <img src="/imagenes/logo gov.svg" alt="Logo de GOV.CO" style="height: 18px; margin-right: 8px;">
        <span style="font-weight: bold;">GOV.CO</span>
      </a>
    </div>
    <div id="google_translate_element" style="background-color: white; color: #3366cc; border-radius: 6px; padding: 0 8px; font-weight: bold;"></div>
  </div>

  <!-- Barra de navegación -->
  <nav class="navbar navbar-expand-lg navbar-dark flex-column sticky-top py-0" style="background-color: #164443;">
    <div class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between py-2">
      <a class="navbar-brand d-flex align-items-center gap-3" href="/index.html" style="font-size:2rem; font-weight:900;">
        <img src="/imagenes/HDSACorporativo_2.jpg" alt="Logo Hospital Departamental San Antonio" style="height:70px; width:auto; border-radius:16px; box-shadow:0 2px 12px rgba(0,0,0,0.08); background:#fff; padding:4px;">
        <span class="d-none d-md-inline" style="line-height:1.1;">
          Hospital<br>
          <span style="font-weight:700;">Departamental San Antonio</span>
        </span>
        <span class="d-inline d-md-none" style="font-size:1.1rem; font-weight:700;">San Antonio</span>
      </a>
      <form class="d-flex ms-auto me-3" role="search" action="buscar.html" method="get" style="max-width:400px; width:100%;">
        <div class="input-group">
          <input class="form-control" type="search" placeholder="Buscar en el sitio..." aria-label="Buscar" name="q" id="search-input">
          <button class="btn btn-light" type="submit">
            <i class="bi bi-search" aria-hidden="true"></i>
            <span class="visually-hidden">Buscar</span>
          </button>
        </div>
      </form>
      <button class="navbar-toggler mt-2 mt-md-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHospital" aria-controls="navbarHospital" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div class="container-fluid">
      <div class="collapse navbar-collapse w-100 justify-content-center" id="navbarHospital">
        <ul class="navbar-nav mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="/index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="/Transparencia y acceso a la información Publica.html">Transparencia</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAtencion" role="button" data-bs-toggle="dropdown" aria-expanded="false">Atención</a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownAtencion">
              <li><a class="dropdown-item" href="/Urgencias.html">Urgencias 24/7</a></li>
              <li><a class="dropdown-item" href="/citasmedicas.html">Citas médicas</a></li>
              <li><a class="dropdown-item" href="/consulta-externa.html">Consulta externa</a></li>
            </ul>
          </li>
          <li class="nav-item"><a class="nav-link" href="/Participa.html">Participa</a></li>
          <li class="nav-item"><a class="nav-link" href="/Normatividad.html">Normatividad</a></li>
          <li class="nav-item"><a class="nav-link active" href="/Estadisticas.html">Estadísticas</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Encabezado -->
  <header class="bg-light py-5">
    <div class="container">
      <div class="text-center">
        <h1 class="display-5 fw-bold text-primary">Estadísticas del Sitio Web</h1>
        <p class="lead text-muted">Información sobre el uso y visitas a nuestro portal web</p>
      </div>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="py-5">
    <div class="container">
      <div class="row g-4">
        <!-- Total de visitas -->
        <div class="col-md-4">
          <div class="card h-100 stat-card text-center p-4">
            <div class="stat-icon text-primary">
              <i class="bi bi-people-fill"></i>
            </div>
            <div class="stat-number" id="totalVisits">15,728</div>
            <div class="stat-label">Visitas Totales</div>
            <p class="small text-muted mt-2 mb-0">Desde el inicio del sitio web</p>
          </div>
        </div>

        <!-- Visitas del mes actual -->
        <div class="col-md-4">
          <div class="card h-100 stat-card text-center p-4">
            <div class="stat-icon text-success">
              <i class="bi bi-calendar-check"></i>
            </div>
            <div class="stat-number" id="monthlyVisits">1,245</div>
            <div class="stat-label">Visitas este mes</div>
            <p class="small text-muted mt-2 mb-0">Agosto 2025</p>
          </div>
        </div>

        <!-- Páginas más visitadas -->
        <div class="col-md-4">
          <div class="card h-100 stat-card text-center p-4">
            <div class="stat-icon text-info">
              <i class="bi bi-graph-up"></i>
            </div>
            <div class="stat-number">Top 5</div>
            <div class="stat-label">Páginas más visitadas</div>
            <div class="mt-3 text-start small">
              <div class="d-flex justify-content-between mb-2">
                <span>1. Inicio</span>
                <span class="text-muted">4,523</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span>2. Citas médicas</span>
                <span class="text-muted">3,217</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span>3. Urgencias</span>
                <span class="text-muted">2,845</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span>4. Consulta externa</span>
                <span class="text-muted">2,156</span>
              </div>
              <div class="d-flex justify-content-between">
                <span>5. Resultados de laboratorio</span>
                <span class="text-muted">1,987</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Última actualización -->
      <div class="last-update mt-5">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <h5 class="mb-1">Última actualización</h5>
            <p class="mb-0 text-muted" id="lastUpdate">4 de agosto de 2025, 12:30 PM</p>
          </div>
          <button class="btn btn-outline-primary" onclick="updateStats()">
            <i class="bi bi-arrow-clockwise me-2"></i>Actualizar
          </button>
        </div>
      </div>

      <!-- Gráfico de visitas (ejemplo) -->
      <div class="card mt-4">
        <div class="card-header bg-white">
          <h5 class="mb-0">Tendencia de visitas últimos 6 meses</h5>
        </div>
        <div class="card-body">
          <div class="text-center py-5">
            <i class="bi bi-bar-chart-line" style="font-size: 3rem; color: #e9ecef;"></i>
            <p class="text-muted mt-2">Gráfico de visitas mensuales</p>
            <p class="small text-muted">(Esta es una vista previa. Los datos reales se mostrarán cuando se implemente el sistema de análisis.)</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Botones de accesibilidad -->
  <div class="accessibility-buttons-container">
    <button class="btn btn-outline-primary rounded-circle" title="Aumentar texto" aria-label="Aumentar tamaño de texto">
      <i class="bi bi-plus-circle" style="font-size: 1.6rem;"></i>
    </button>
    <button class="btn btn-outline-primary rounded-circle" title="Reducir texto" aria-label="Reducir tamaño de texto">
      <i class="bi bi-dash-circle" style="font-size: 1.6rem;"></i>
    </button>
    <button id="resetContraste" class="btn btn-outline-primary rounded-circle" title="Restablecer Contraste y Texto" aria-label="Restablecer Contraste y Texto">
      <i class="bi bi-arrow-clockwise" style="font-size: 1.6rem;"></i>
    </button>
    <button class="btn btn-outline-primary rounded-circle" title="Centro de relevo" aria-label="Ir a Centro de relevo">
      <i class="bi bi-telephone" style="font-size: 1.6rem;"></i>
    </button>
    <button class="btn btn-outline-primary rounded-circle" title="Encuesta de Usabilidad y accesibilidad" aria-label="Acceder a Encuesta de Usabilidad y accesibilidad">
      <i class="bi bi-clipboard-data" style="font-size: 1.6rem;"></i>
    </button>
    <button id="cambiarcontraste" class="btn btn-outline-primary rounded-circle" title="Cambiar contraste" aria-label="Cambiar esquema de contraste">
      <i class="bi bi-circle-half" style="font-size: 1.6rem;"></i>
    </button>
  </div>

  <!-- Tarjeta institucional -->
  <div class="container mb-5">
    <div class="card shadow-lg border-0 mx-auto" style="max-width: 900px; border-radius: 2rem;">
      <div class="card-body py-5 px-5">
        <div class="row align-items-center">
          <div class="col-md-7">
            <h3 class="card-title fw-bold mb-3" style="color:#069681; font-size: 2.3rem; letter-spacing: -1px;">Hospital Departamental San Antonio</h3>
            <p class="mb-4 text-muted" style="font-size:1.15rem;">¡Tu salud, nuestra prioridad! Atención médica integral y humana en el Norte del Valle.</p>
            <ul class="list-unstyled mb-0 text-start" style="font-size:1.08rem;">
              <li class="mb-2"><i class="bi bi-geo-alt-fill me-2 text-primary fs-5"></i><strong>Dirección:</strong> Avenida Santander No. 10 -50, Roldanillo, Valle del Cauca</li>
              <li class="mb-2"><i class="bi bi-envelope-fill me-2 text-primary fs-5"></i><strong>Email:</strong> <a href="mailto:ventanillaunica@hdsa.gov.co" class="text-decoration-none text-dark">ventanillaunica@hdsa.gov.co</a></li>
              <li class="mb-2"><i class="bi bi-telephone-fill me-2 text-primary fs-5"></i><strong>PBX:</strong> 602 891 2317</li>
              <li class="mb-2"><i class="bi bi-clock-fill me-2 text-primary fs-5"></i><strong>Horario:</strong> Lunes a Viernes 6:00 a.m. - 6:00 p.m.</li>
              <li class="mb-2"><i class="bi bi-clock-fill me-2 text-primary fs-5"></i><strong>Sábados:</strong> 6:00 a.m. - 6:00 p.m.</li>
              <li class="mb-2"><i class="bi bi-clock-fill me-2 text-primary fs-5"></i><strong>Domingos y Festivos:</strong> Solo Urgencias 24/7</li>
              <li><i class="bi bi-globe2 me-2 text-primary fs-5"></i><strong>Web:</strong> <a href="https://hdsa.gov.co/" class="text-decoration-none" target="_blank">hdsa.gov.co</a></li>
            </ul>
          </div>
          <div class="col-md-5 d-flex flex-column align-items-center justify-content-center mt-4 mt-md-0">
            <div class="d-flex flex-wrap justify-content-center gap-3 w-100">
              <a href="/Mapa del sitio.html" class="btn btn-outline-primary btn-lg rounded-pill px-4 fw-bold">Mapa del Sitio</a>
              <a href="/Politicas.html" class="btn btn-outline-primary btn-lg rounded-pill px-4 fw-bold">Políticas</a>
              <a href="/Mecanismos de contacto.html" class="btn btn-outline-primary btn-lg rounded-pill px-4 fw-bold">Contacto</a>
              <a href="/Estadisticas.html" class="btn btn-primary btn-lg rounded-pill px-4 fw-bold">Estadísticas</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Barra inferior -->
  <div style="background-color: #3366cc; min-height: 48px; width: 100vw; position: relative; left: 50%; right: 50%; margin-left: -50vw; margin-right: -50vw;">
    <div class="container-fluid d-flex align-items-center justify-content-start" style="height:48px;">
      <a href="https://colombia.co/" target="_blank" class="d-flex align-items-center text-white text-decoration-none me-4" style="font-size: 1.25rem;">
        <img src="/imagenes/logo col.png" alt="Logo Colombia.co" style="height: 32px; margin-right: 12px;">
      </a>
      <a href="https://www.gov.co/" target="_blank" class="d-flex align-items-center text-white text-decoration-none" style="font-size: 1.25rem;">
        <img src="/imagenes/logo gov.svg" alt="Logo GOV.CO" style="height: 32px; margin-right: 12px;">
      </a>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script>
    // Inicializar el traductor de Google
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'es',
        includedLanguages: 'es,en,pt,fr',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
      }, 'google_translate_element');
    }

    // Función para actualizar las estadísticas
    function updateStats() {
      // Aquí iría la lógica para actualizar los contadores desde una API o base de datos
      const now = new Date();
      const options = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit',
        hour12: true
      };
      
      // Actualizar la fecha de última actualización
      document.getElementById('lastUpdate').textContent = 
        now.toLocaleDateString('es-ES', options);
      
      // Simular actualización de contadores (en un caso real, esto vendría de una API)
      const totalVisits = document.getElementById('totalVisits');
      const monthlyVisits = document.getElementById('monthlyVisits');
      
      // Animación simple para mostrar la actualización
      totalVisits.style.transform = 'scale(1.1)';
      monthlyVisits.style.transform = 'scale(1.1)';
      
      setTimeout(() => {
        totalVisits.style.transform = 'scale(1)';
        monthlyVisits.style.transform = 'scale(1)';
      }, 300);
      
      // Mostrar notificación de éxito
      alert('Las estadísticas se han actualizado correctamente.');
    }

    // Configurar la fecha de última actualización al cargar la página
    document.addEventListener('DOMContentLoaded', function() {
      updateStats();
      
      // Configurar botones de accesibilidad
      const increaseBtn = document.querySelector('[title="Aumentar texto"]');
      const decreaseBtn = document.querySelector('[title="Reducir texto"]');
      const resetBtn = document.getElementById('resetContraste');
      const changeContrastBtn = document.getElementById('cambiarcontraste');
      
      // Aumentar tamaño de texto
      increaseBtn.addEventListener('click', function() {
        document.body.style.fontSize = (parseFloat(getComputedStyle(document.body).fontSize) + 1) + 'px';
      });
      
      // Disminuir tamaño de texto
      decreaseBtn.addEventListener('click', function() {
        document.body.style.fontSize = (parseFloat(getComputedStyle(document.body).fontSize) - 1) + 'px';
      });
      
      // Restablecer contraste y texto
      resetBtn.addEventListener('click', function() {
        document.body.style.fontSize = '';
        document.body.classList.remove('high-contrast');
      });
      
      // Cambiar contraste
      changeContrastBtn.addEventListener('click', function() {
        document.body.classList.toggle('high-contrast');
      });
    });
  </script>
</body>
</html>